<h2>Your Cart</h2>

{% if items %}
<form method="POST">
    {% csrf_token %}
    <table border="1" cellpadding="5" cellspacing="0">
        <tr>
            <th>Item</th>
            <th>Quantity</th>
            <th>Price</th>
            <th>Subtotal</th>
            <th>Action</th>
        </tr>
    {% for item, subtotal in subtotal_list %}
        <tr>
            <td>{{ item.item.name }}</td>
            <td>
                <button type="submit" name="quantity_{{ item.id }}" value="{{ item.quantity|add:'-1' }}">-</button>
                <input type="number" name="quantity_{{ item.id }}" value="{{ item.quantity }}" min="0" style="width: 50px;">
                <button type="submit" name="quantity_{{ item.id }}" value="{{ item.quantity|add:'1' }}">+</button>
            </td>
            <td>{{ item.item.price }}</td>
            <td>{{ subtotal }}</td>
            <td>
                <button type="submit" name="delete_{{ item.id }}">Ã—</button>
            </td>
        </tr>
    {% endfor %}
        <tr>
            <td colspan="3"><strong>Total</strong></td>
            <td colspan="2"><strong>{{ total }}</strong></td>
        </tr>
    </table>
    <button type="submit">Update Cart</button>
</form>
{% else %}
    <p>Your cart is empty.</p>
{% endif %}
