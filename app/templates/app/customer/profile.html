<h1>Update Your Profile</h1>

{% if messages %}
    {% for message in messages %}
        <p style="color: {% if message.tags == 'error' %}red{% else %}green{% endif %};">
            {{ message }}
        </p>
    {% endfor %}
{% endif %}

<form method="POST" enctype="multipart/form-data">
    {% csrf_token %}

    <label>Email (cannot change):</label><br>
    <input type="email" name="email" value="{{ request.user.email }}" disabled><br><br>

    <label>Name:</label><br>
    <input type="text" name="name" value="{{ profile.name }}"><br><br>

    <label>Gender:</label><br>
    <select name="gender">
        <option value="Male" {% if profile.gender == "Male" %}selected{% endif %}>Male</option>
        <option value="Female" {% if profile.gender == "Female" %}selected{% endif %}>Female</option>
    </select><br><br>

    <label>Phone:</label><br>
    <input type="text" name="phone" value="{{ profile.phone }}"><br><br>

    <label>Address:</label><br>
    <input type="text" name="address" value="{{ profile.address }}"><br><br>

    <label>Profile Image:</label><br>
    {% if profile.image %}
        <img src="{{ profile.image.url }}" alt="Profile Image" width="150"><br>
    {% endif %}
    <input type="file" name="image"><br><br>

    <button type="submit">Update Profile</button>
</form>

<br>
<a href="{% url 'homepage' %}">Back to Dashboard</a>
